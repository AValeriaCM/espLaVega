<ion-content id="ion-content-principal">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button style="color: white !important;" defaultHref="/start"></ion-back-button>
    </ion-buttons>
    <ion-img slot="start" style="position: initial; width: 100px;" src="../../../assets/logo2.png"></ion-img>
    <h1><strong>Registro</strong></h1>
  </ion-toolbar>


<div class="form-css">
  <form [formGroup]="registrationForm" (ngSubmit)="submit()">
    <ion-item lines="full">
      <ion-label position="floating">Nombre</ion-label>
      <ion-input formControlName= "name" type="text" required></ion-input>
    </ion-item>
    <div *ngFor="let error of errorMessages.name">
      <ng-container *ngIf = "name.hasError(error.type) && (name.dirty || name.touched)">
        <small class="error-message">{{error.message}}</small>
      </ng-container>
    </div>

    <ion-item lines="full">
      <ion-label position="floating">Apellido</ion-label>
      <ion-input formControlName="lastname" type="text" required></ion-input>
    </ion-item>
    <div *ngFor ="let error of errorMessages.lastname">
      <ng-container *ngIf ="lastname.hasError(error.type) && (lastname.dirty || lastname.touched)">
        <small class="error-message">{{error.message}}</small>
      </ng-container>
    </div>

    <ion-item lines="full">
      <ion-label position="floating">Direccion</ion-label>
      <ion-input formControlName="address" type="text" required></ion-input>
    </ion-item>
    <div *ngFor ="let error of errorMessages.address">
      <ng-container *ngIf ="address.hasError(error.type) && (address.dirty || address.touched)">
        <small class="error-message">{{error.message}}</small>
      </ng-container>
    </div>

    <ion-item lines="full">
      <ion-label position="floating">Correo electrónico</ion-label>
      <ion-input formControlName="email" type="text" required></ion-input>
    </ion-item>
    <div *ngFor ="let error of errorMessages.email">
      <ng-container *ngIf ="email.hasError(error.type) && (email.dirty || email.touched)">
        <small class="error-message">{{error.message}}</small>
      </ng-container>
    </div>

    <ion-item lines="full">
      <ion-label position="floating">Contraseña</ion-label>
      <ion-input formControlName="password" type="password" required></ion-input>
    </ion-item>
    <div *ngFor ="let error of errorMessages.password">
      <ng-container *ngIf ="password.hasError(error.type) && (password.dirty || password.touched)">
        <small class="error-message">{{error.message}}</small>
      </ng-container>
    </div>
    <ion-label class="label-pass"> La contraseña debe tener entre 8 y 12 caracteres</ion-label><br>
    <ion-label class="label-pass"> * Debe tener al menos 1 mayúscula</ion-label><br>
    <ion-label class="label-pass"> * Debe tener al menos 1 numero</ion-label><br>

    <ion-item lines="full">
      <ion-label position="floating">Repetir contraseña</ion-label>
      <ion-input formControlName="password_confirmation" type="password" required></ion-input>
    </ion-item>
    <div *ngFor ="let error of errorMessages.password_confirmation">
      <ng-container *ngIf ="password_confirmation.hasError(error.type) && (password_confirmation.dirty || password_confirmation.touched)">
        <small class="error-message">{{error.message}}</small>
      </ng-container>
    </div>

    <ion-item lines="full">
      <ion-label position="floating">Teléfono</ion-label>
      <ion-input formControlName="phone" type="text" required></ion-input>
    </ion-item>
    <div *ngFor ="let error of errorMessages.phone">
      <ng-container *ngIf ="phone.hasError(error.type) && (phone.dirty || phone.touched)">
        <small class="error-message">{{error.message}}</small>
      </ng-container>
    </div>

    <ion-item lines="full">
      <ion-label position="floating">Código de factura</ion-label>
      <ion-input formControlName="code" type="text" required></ion-input>
    </ion-item>
    <div *ngFor ="let error of errorMessages.code">
      <ng-container *ngIf ="code.hasError(error.type) && (code.dirty || code.touched)">
        <small class="error-message">{{error.message}}</small>
      </ng-container>
    </div>

    <ion-row>
      <ion-col>
        <ion-button [routerLink]="['/login']" type="submit" expand="block">REGISTRAR</ion-button>
      </ion-col>
    </ion-row>
  </form>
</div>
</ion-content>